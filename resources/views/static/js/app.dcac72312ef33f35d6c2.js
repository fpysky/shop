webpackJsonp([1],{NHnr:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("MVMM"),s=t("zO6J"),o=t("aozt"),n=t.n(o),l=t("a4Cm"),i=t.n(l),u={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"panel-heading"},[t("nav",[t("ul",{staticClass:"list-inline"},[t("li",[t("router-link",{attrs:{to:{name:"home"}}},[e._v("首页")])],1),e._v(" "),e.$auth.check()?e._e():t("li",{staticClass:"pull-right"},[t("router-link",{attrs:{to:{name:"login"}}},[e._v("登录")])],1),e._v(" "),e.$auth.check()?e._e():t("li",{staticClass:"pull-right"},[t("router-link",{attrs:{to:{name:"register"}}},[e._v("注册")])],1),e._v(" "),e.$auth.check()?t("li",{staticClass:"pull-right"},[t("a",{attrs:{href:"#"},on:{click:function(r){r.preventDefault(),e.$auth.logout()}}},[e._v("退出")])]):e._e()])])]),e._v(" "),t("div",{staticClass:"panel-body"},[t("router-view")],1)])},staticRenderFns:[]},c=t("vSla")(null,u,!1,null,null,null).exports,m={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("这里是已登陆的首页")])},staticRenderFns:[]},p=t("vSla")(null,m,!1,null,null,null).exports,d={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("这里是未登陆的首页")])},staticRenderFns:[]},v=t("vSla")(null,d,!1,null,null,null).exports,_={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.error&&!e.success?t("div",{staticClass:"alert alert-danger"},[t("p",[e._v("出错了，很遗憾，未能完成注册")])]):e._e(),e._v(" "),e.success?t("div",{staticClass:"alert alert-success"},[t("p",[e._v("注册完成，你现在可以"),t("router-link",{attrs:{to:{name:"login"}}},[e._v("登录")]),e._v("了")],1)]):e._e(),e._v(" "),e.success?e._e():t("form",{attrs:{autocomplete:"off",method:"post"},on:{submit:function(r){return r.preventDefault(),e.register(r)}}},[t("div",{staticClass:"form-group",class:{"has-error":e.error&&e.errors.name}},[t("label",{attrs:{for:"name"}},[e._v("用户名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",required:""},domProps:{value:e.name},on:{input:function(r){r.target.composing||(e.name=r.target.value)}}}),e._v(" "),e.error&&e.errors.name?t("span",{staticClass:"help-block"},[e._v(e._s(e.errors.name[0]))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group",class:{"has-error":e.error&&e.errors.email}},[t("label",{attrs:{for:"email"}},[e._v("邮箱")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"user@example.com",required:""},domProps:{value:e.email},on:{input:function(r){r.target.composing||(e.email=r.target.value)}}}),e._v(" "),e.error&&e.errors.email?t("span",{staticClass:"help-block"},[e._v(e._s(e.errors.email[0]))]):e._e()]),e._v(" "),t("div",{staticClass:"form-group",class:{"has-error":e.error&&e.errors.password}},[t("label",{attrs:{for:"password"}},[e._v("密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value)}}}),e._v(" "),e.error&&e.errors.password?t("span",{staticClass:"help-block"},[e._v(e._s(e.errors.password[0]))]):e._e()]),e._v(" "),t("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[e._v("提交")])])])},staticRenderFns:[]},f=t("vSla")({data:function(){return{name:"",email:"",password:"",error:!1,errors:{},success:!1}},methods:{register:function(){var e=this;this.$auth.register({params:{name:e.name,email:e.email,password:e.password},success:function(){e.success=!0},error:function(r){e.error=!0,e.errors=r.response.data.errors},redirect:null})}}},_,!1,null,null,null).exports,h={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.error?t("div",{staticClass:"alert alert-danger"},[t("p",{domProps:{textContent:e._s(e.errors)}})]):e._e(),e._v(" "),t("form",{attrs:{autocomplete:"off",method:"post"},on:{submit:function(r){return r.preventDefault(),e.login(r)}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"email"}},[e._v("邮箱")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"user@example.com",required:""},domProps:{value:e.email},on:{input:function(r){r.target.composing||(e.email=r.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"password"}},[e._v("密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value)}}})]),e._v(" "),t("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[e._v("登录")])])])},staticRenderFns:[]},g=t("vSla")({data:function(){return{email:null,password:null,error:!1,errors:{}}},methods:{login:function(){var e=this;this.$auth.login({params:{email:e.email,password:e.password},success:function(){},error:function(r){e.error=!0,e.errors=r.response.data.error},rememberMe:!0,redirect:"/dashboard",fetchUser:!0})}}},h,!1,null,null,null).exports;a.a.use(s.a),a.a.use(i.a,n.a),n.a.defaults.baseURL="http://shop.test/api";var w=new s.a({mode:"history",routes:[{path:"/",name:"home",component:v},{path:"/register",name:"register",component:f,meta:{auth:!1}},{path:"/login",name:"login",component:g,meta:{auth:!1}},{path:"/dashboard",name:"dashboard",component:p,meta:{auth:!0}}]});a.a.router=w,a.a.use(t("+4S4"),{auth:t("4yuj"),http:t("gykU"),router:t("nnSK"),tokenDefaultName:"token"}),c.router=a.a.router,new a.a(c).$mount("#app")}},["NHnr"]);
//# sourceMappingURL=app.dcac72312ef33f35d6c2.js.map